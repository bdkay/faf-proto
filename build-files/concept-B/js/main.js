(function(e){hideElements=function(){e("#help-me").hide(),e("#form-info").hide(),e(".page_form #main-form").parents("#main-content").removeClass("expert-mode").find('button[type="submit"]').attr("disabled","disabled"),e("select").each(function(){e(this).parent().is("p")||e(this).parent().is("h3")?e(this).wrap('<span class="select inline-select" />'):e(this).wrap('<div class="select" />')})},setEqualHeight=function(e){var t=e.parent(".row-fluid").outerHeight();e.height(t+30)},zoomDisable=function(){e("head meta[name=viewport]").remove(),e("head").prepend('<meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1" />')},zoomEnable=function(){e("head meta[name=viewport]").remove(),e("head").prepend('<meta name="viewport" content="width=device-width" />')},e.fn.mobileNav=function(){var t=e(this),n=e("#main-page"),r=e("header"),i=r.find(".btn_mobile-nav"),s=r.find(".btn_mobile-search"),o=r.find("#main-search"),u=t.find(".notifications-toggler"),a=500;hideNav=function(){n.stop().animate({left:0},a,function(){t.removeClass("open")}),t.stop().animate({right:-275},a),r.stop().animate({left:0},a)},showNav=function(){n.stop().animate({left:-275},a,function(){t.addClass("open")}),t.stop().animate({right:0},a),r.stop().animate({left:-275},a)},i.on("click",function(e){e.preventDefault(),t.hasClass("open")?hideNav():showNav()}),u.on("click",function(t){t.preventDefault(),e(this).toggleClass("closed").text(e(this).text()=="x"?"":"x").parent("h4").next("ul").stop().slideToggle(a)}),s.on("click",function(t){t.preventDefault(),e("body").hasClass("mobile-search-on")?zoomEnable():zoomDisable(),e("body").toggleClass("mobile-search-on"),o.toggleClass("active"),s.toggleClass("active")}),e(window).on("resize",function(){t.hasClass("open")&&e(window).outerWidth()>764&&hideNav()})},e.fn.expertMode=function(){e.validator.messages.required="Please answer this question before continuing.";var t=e(this),n=e(".guide-toggler.enabled"),r=e(".guided_section.active"),i='<div class="guided_nav"><a href="#" class="prev ic_chevron-up"></a><a href="#" class="next ic_chevron-down"></a></div>',s=e(".touch .guided_section").find(".tooltip-link.information"),o=e("form.form-section").validate({ignore:".ignore input",rules:{student_information_license_number:{required:"#student_information_license_yes:checked"},student_information_state_license:{required:"#student_information_license_yes:checked"}},errorPlacement:function(e,t){t.is(":checkbox")||t.is(".form-date")?e.insertAfter(t.next()):t.is(":radio")?e.insertAfter(t.parents("p")):e.insertAfter(t)},submitHandler:function(){alert("form submitted")}});e(".guided_section").each(function(){return e(this).append(i)}),e(".guided_section:first").addClass("alpha").find("a:first-child").addClass("disabled"),e(".guided_section:last").addClass("omega"),e(".guided_section:gt(0)").removeClass("active").addClass("ignore").find("input, select").attr("disabled","disabled"),n.on("click",function(t){t.preventDefault();var n=e(".guided_section.active");e("#main-content").toggleClass("expert-mode"),o.resetForm(),e(this).text(e(this).text()=="On"?"Off":"On").toggleClass("expert"),e("#main-content").hasClass("expert-mode")?(e("input, select, button").removeAttr("disabled"),e(".ignore").removeClass("ignore").addClass("faux-ignore")):(e(".guided_section").not(".active").find("input, select").attr("disabled","disabled"),e(".faux-ignore").removeClass("faux-ignore").addClass("ignore"),e("form.form-section").find("button").attr("disabled","disabled"))}),s.on("click",function(t){t.preventDefault();var n=e(this).data("target-info");e(this).parents(".content").find("p.info").slideUp("fast"),e(this).parents(".content").find('p.info[data-target-info="'+n+'"]').append('<a class="close">x</a>').slideDown("fast"),e("p.info").find(".close").on("click",function(t){t.preventDefault(),e("p.info").slideUp("fast")})}),e(".guided_nav a").on("click",function(t){t.preventDefault();var n=e(".guided_section.active");e(this).hasClass("disabled")||(e(this).hasClass("prev")?(e(this).parents(".guided_section").hasClass("omega")&&(n.find("a.next").show(),e("#form-footer").find("button").hide()),o.form()||(o.resetForm(),n.addClass("ignore").find("input, select").attr("disabled","disabled")),n.removeClass("active").prev(".guided_section").addClass("active").find("input, select").removeAttr("disabled").find("input:first").focus()):e(this).parents(".guided_section").hasClass("omega")?(e("form.form-section").find("button").show().removeAttr("disabled").focus(),e("html").hasClass("touch")&&(n.find("a.next").hide(),e("#form-footer").find("button").show())):o.form()&&(n.find("input, select").attr("disabled","disabled"),n.removeClass("active").next(".guided_section").addClass("active").removeClass("ignore").find("input, select").show().removeAttr("disabled").find("input:first").focus()))}),e(".form-correction").on("click",function(e){o.form()||e.preventDefault()})},e.fn.helpToggle=function(){var t=e(this),n=t.parents("#main-form"),r=n.find(".help-me_toggle");r.on("click",function(e){e.preventDefault(),t.stop().slideToggle(500,function(){r.text(r.text()=="Need Help ?"?"Close Help X":"Need Help ?")})})},e.fn.progressBar=function(){var t=e(this),n=t.attr("data-progress"),r=e("#form-header").find("h3").text();t.prepend('<div class="before" />').prepend('<div class="progression" />').append('<div class="after" />'),t.find(".progression").css("width",n+"%"),e("#mobile-progress").append('<div id="mobile-progress-steps" />').append("<h3>"+r+"</h3>"),t.clone().contents().appendTo("#mobile-progress-steps"),e("#mobile-progress-steps").find(".progression").css("height",n+"%"),e("#mobile-progress h3").on("click",function(t){t.preventDefault();var n=e("#mobile-progress");n.toggleClass("open").find("#mobile-progress-steps").stop().slideToggle("fast").next("h3").text(e(this).text()==r?"Hide Progress":r)}),setWidth=function(){var e=t.find(".progress-dot").outerWidth();t.find(".before, .after").css("width",e/2)},setWidth(),e(window).on("resize",function(){setWidth()})},e.fn.registration=function(){var t=e(this),n=t.find("#form-selector"),r=t.find("#register_email"),i=n.find("a");i.on("click",function(r){r.preventDefault();var i=e(this).attr("data-choice");t.hasClass("init")?e(this).parents(".selection").hasClass("disabled")&&(n.find(".selection").toggleClass("active disabled"),e("#register_form_choice").val(i)):(t.addClass("init").find("#form-info").stop().slideDown(500),e(this).parent(".selection").addClass("active"),n.find(".selection").not(".active").addClass("disabled"),e("#register_form_choice").val(i))}),r.on("keyup",function(){e(this).hasClass("init")||(username=e(this).val(),e("#register_username").val(username))})},e.fn.dependentFields=function(){var t=e(this);t.on("change",function(){var t=e(this).val();e(".select-dependent").hide().filter(function(){return e(this).data("select-dependent")==t}).show()})},e.fn.announcements=function(){var t=e(this),n=t.find(".announcement-listings"),r=n.find("h4"),i=8e3,s=500;r.first().addClass("active"),r.not(".active").hide(),newsTicker=function(){var e=n.find("h4.active");e.fadeOut(s,function(){r.last().hasClass("active")?e.removeClass("active").parents(n).find("h4:first-child").fadeIn(s).addClass("active"):e.removeClass("active").next("h4").fadeIn(s).addClass("active")})};var o=setInterval(newsTicker,i);t.hover(function(){clearInterval(o)},function(){o=setInterval(newsTicker,i)})},e.fn.fontResize=function(){e(this).find("a").on("click",function(t){t.preventDefault();var n=e(this).parent("li").attr("class");e("body").removeClass("smaller normal larger").addClass(n)})},e.fn.homeSlide=function(){var t=e(this),n=t.find(".row_header h2");n.on("click",function(n){if(e(window).outerWidth()<764){var r=e(this).parents("li"),i=r.find(".slide-content"),s=e(".slides").find("li").index(r),o=500;r.hasClass("active")?r.removeClass("active").find(".slide-content").stop().slideUp(o):(t.find("li").removeClass("active").find(".slide-content").stop().slideUp(o),r.addClass("active").find(".slide-content").stop().slideDown(o)),e("body").addClass("accordion-init")}}),e(window).on("resize",function(){e("body").hasClass("accordion-init")&&e(window).outerWidth()>764&&(e("body").removeClass("accordion-init"),t.find("li").removeClass("active").find(".slide-content").show())})},e.fn.schools=function(){var t=e(this),n=t.find('input[type="checkbox"]'),r=t.find("a"),i=function(){e(".school-charts").empty()},s=function(){t.find("tr").removeClass("compare").find("input").removeAttr("checked"),i()},o=function(){var t=10,n=t-e("tr.compare").length;e(".school-amount").text(n)},u=function(){var t=e(".tableExample tr.compare").length;i(),xArray=[],yArray=[],zArray=[],e(".tableExample tr.compare").each(function(){var t=e(this),n=t.attr("data-tuition"),r=t.attr("data-population"),i=t.attr("data-room-and-board");xArray.push(n),yArray.push(r),zArray.push(i)}),xMax=Math.max.apply(Math,xArray),yMax=Math.max.apply(Math,yArray),zMax=Math.max.apply(Math,zArray),xMax+=xMax*.2,yMax+=yMax*.2,zMax+=zMax*.2,e(".tableExample tr.compare").each(function(){var t=e(this),n=t.attr("data-tuition"),r=t.attr("data-population"),i=t.attr("data-room-and-board"),s=t.attr("data-school"),o=Math.round(n/xMax*100),u=Math.round(r/yMax*100),a=Math.round(i/zMax*100);e(".tuition").append("<h4>"+s+"</h4>").append('<div class="full-bar"><div class="fill-bar" data-school="'+s+'"  style="width:'+o+'%">$'+n+"</div>"),e(".population").append("<h4>"+s+"</h4>").append('<div class="full-bar"><div class="fill-bar" data-school="'+s+'"  style="width:'+u+'%">'+r+"</div>"),e(".room-and-board").append("<h4>"+s+"</h4>").append('<div class="full-bar"><div class="fill-bar" data-school="'+s+'"  style="width:'+a+'%">$'+i+"</div>")})};e(".school-charts:first-child").addClass("active"),r.hover(function(){e(this).parents("tr").toggleClass("school-row-hover")}).on("click",function(t){t.preventDefault();var n=e(this).parents("tr");e(this).is(".up")?n.insertBefore(n.prev()):n.insertAfter(n.next()),u()}),e(".remove-selected").on("click",function(e){e.preventDefault(),s(),o(),i()}),n.on("click",function(){var t=10,n=e("tr.compare").length,r=t-n;if(n!=t)e(this).parents("tr").toggleClass("compare");else{if(!e(this).parents("tr").hasClass("compare"))return alert("You cannot choose more than 10 schools"),!1;e(this).parents("tr").removeClass("compare")}o()}),e("#school-compare-selected").on("click",function(e){e.preventDefault(),u()}),e("#student_information_comparison_field").on("change",function(){var t=e(this).val();e(".school-charts").removeClass("active").filter(function(){return e(this).hasClass(t)}).addClass("active")})},e.fn.closeable=function(){var t=e(this),n=t.find(".toggler");n.on("click",function(e){e.preventDefault(),t.stop().slideUp(600)})},e.fn.timeline=function(){var t=e(this),n=t.find(".btn-group"),r=n.find("button");newHeight=function(){var e=t.parents(".slide-content").outerHeight();t.parents(".flex-viewport").height(e)},r.on("click",function(n){n.preventDefault();if(!e(this).hasClass("active")){var i=e(this).data("activity");r.removeClass("btn-green active").addClass("btn-light-grey"),e(this).removeClass("btn-light-grey").addClass("btn-green active"),i!="all"?t.find(".timeline-event").stop().slideUp("fast").filter(function(){return e(this).attr("data-activity")===i}).slideDown("fast",function(){newHeight()}):t.find(".timeline-event").stop().slideDown("fast",function(){newHeight()})}})},e.fn.myAid=function(){var t=e(this),n=t.find(".aid-overview"),r=function(){var e=n.find(".enrollment-period"),t=e.data("years")/6*100;e.append('<div class="complete" style="width:'+t+'%" />')},i=function(){var n=t.find(".slide-content").outerHeight();e(".flex-viewport").css("height",n)};r(),t.find(".dial").knob({inputColor:"#000"}),e(".tablesorter-childRow").hide(),e(".tablesorter").tablesorter({cssChildRow:"tablesorter-childRow"}).delegate(".toggler a","click",function(t){t.preventDefault();var n=e(this).parents("tr"),r=n.parents("table");return n.hasClass("active")?n.removeClass("active").next(".tablesorter-childRow").hide():(r.find("tr.active").removeClass("active").next(".tablesorter-childRow").hide(),n.addClass("active").next(".tablesorter-childRow").show()),i(),!1})},e("#student_information_comparison_field").change(function(){var t=e("#student_information_comparison_field").val();switch(t){case"Tuition":e(".tuition").show(),e(".room-and-board, .population").hide();break;case"Room & Board":e(".room-and-board").show(),e(".tuition, .population").hide();break;case"Population":e(".population").show(),e(".tuition, .room-and-board").hide();break;case"":e(".tuition, .room-and-board, .population").hide()}}),e(function(){hideElements(),e("#mobile-nav").mobileNav(),e("#help-me").helpToggle(),e(".main-form").expertMode(),e(".slider-container").homeSlide(),e(".no-touch .tooltip-link").on("click",function(e){e.preventDefault()}).qtip({content:{text:function(t){if(e(this).hasClass("see-more")){var n=e(this).attr("href");return e(this).attr("title")+' <a href="'+n+'" target="_blank">See More</a>'}return e(this).attr("title")},title:{button:!0}},position:{my:"top center",at:"bottom center"},show:{solo:!0,event:"click"},hide:{event:"click"},events:{show:function(t,n){var r=e(this).attr("href");e(".qtip-close.qtip-icon").triggerHandler("focus")},hide:function(e,t){}}}),e(".form-tele").mask("(999)999-9999"),e(".form-date").mask("99/99/9999"),e(".form-ssn").mask("999-99-9999"),e("#progress_full-app").progressBar(),e("#registration-form").registration(),e("#test-form select").dependentFields(),e(".announcement-strip").announcements(),e("#font-resizer").fontResize(),e(".tableExample").schools(),e(".closeable-block").closeable(),e(".timeline-container").timeline(),e("#slide_aid").myAid(),e("#form_login").validate({rules:{sign_in_verify:3}}),e("form").not(".form-section, #main-search form").validate({rules:{register_pass_confirm:{equalTo:"#register_pass"}},errorPlacement:function(e,t){t.is(":checkbox")||t.is(".form-date")?e.insertAfter(t.next()):t.is(":radio")?e.insertAfter(t.parents("p")):e.insertAfter(t)}}),e(".datepicker").datepicker({showOn:"button",buttonImage:"/img/img_calendar.gif",buttonImageOnly:!0}),e(".ssnpicker").datepicker({showOn:"button",buttonImage:"/img/img_social-security.gif",buttonImageOnly:!0}),e(".flexslider").flexslider({startAt:1,slideshow:!1,animation:"slide",animationLoop:!1,smoothHeight:!0,directionNav:!1,useCSS:!1,controlsContainer:".flexslider-nav",manualControls:".flexslider-nav li a"}),e("#sortTable").tablesorter(),e("footer")&&setEqualHeight(e("footer .span2"))})})(jQuery);